---
description: "åˆ›å»ºä»»åŠ¡ç»Ÿè®¡å’Œæ•°æ®å±•ç¤ºç•Œé¢"
mode: "edit"
tools: ["file-system", "chart"]
---

# ä»»åŠ¡ç»Ÿè®¡ç•Œé¢å¼€å‘

åˆ›å»ºä¸€ä¸ªå®Œæ•´çš„æ•°æ®ç»Ÿè®¡å’Œå¯è§†åŒ–ç•Œé¢ï¼Œæ˜¾ç¤ºå…³æ³¨ä»»åŠ¡çš„æ‰§è¡Œæƒ…å†µå’Œæˆæ•ˆåˆ†æã€‚

## æ ¸å¿ƒç»Ÿè®¡åŠŸèƒ½

### 1. æ€»è§ˆç»Ÿè®¡å¡ç‰‡
- æ€»å…³æ³¨äººæ•°ï¼ˆç´¯è®¡ï¼‰
- ä»Šæ—¥æ–°å¢å…³æ³¨æ•°
- æœ¬æœˆæ–°å¢å…³æ³¨æ•°
- æˆåŠŸç‡ç»Ÿè®¡ï¼ˆæˆåŠŸå…³æ³¨/å°è¯•å…³æ³¨ï¼‰

### 2. å¹³å°åˆ†å¸ƒç»Ÿè®¡
- å°çº¢ä¹¦å…³æ³¨æ•°é‡å’Œå æ¯”
- æŠ–éŸ³å…³æ³¨æ•°é‡å’Œå æ¯”
- æœªæ¥å¹³å°æ‰©å±•é¢„ç•™
- å¹³å°æ•ˆæœå¯¹æ¯”åˆ†æ

### 3. è®¾å¤‡æ•ˆç‡ç»Ÿè®¡
- æ¯å°è®¾å¤‡çš„å…³æ³¨æ•°é‡
- è®¾å¤‡æ•ˆç‡æ’è¡Œæ¦œ
- è®¾å¤‡æ•…éšœç‡ç»Ÿè®¡
- è´Ÿè½½åˆ†é…å‡è¡¡åº¦

### 4. æ—¶é—´è¶‹åŠ¿åˆ†æ
- æ¯æ—¥å…³æ³¨æ•°é‡è¶‹åŠ¿å›¾
- æ¯å°æ—¶æ´»è·ƒåº¦åˆ†æ
- å‘¨æœŸæ€§ä»»åŠ¡å®Œæˆæƒ…å†µ
- é«˜å³°æœŸå’Œä½è°·æœŸè¯†åˆ«

## æŠ€æœ¯å®ç°

```python
from qfluentwidgets import (
    VerticalScrollInterface, CardWidget,
    LineChart, PieChart, BarChart,
    TableWidget, StatisticsWidget,
    FluentIcon, InfoBar
)
import pyqtgraph as pg
from datetime import datetime, timedelta

class StatisticsInterface(VerticalScrollInterface):
    def __init__(self, data_manager):
        super().__init__(
            object_name="statistics_view",
            nav_text_cn="æ•°æ®ç»Ÿè®¡",
            nav_icon=FluentIcon.CHART
        )
        self.data_manager = data_manager
        self.setup_ui()

    def setup_ui(self):
        # æ€»è§ˆç»Ÿè®¡å¡ç‰‡åŒºåŸŸ
        self.create_overview_cards()

        # å›¾è¡¨å±•ç¤ºåŒºåŸŸ
        self.create_charts_section()

        # è¯¦ç»†æ•°æ®è¡¨æ ¼
        self.create_detailed_table()

        # å®æ—¶åˆ·æ–°å®šæ—¶å™¨
        self.setup_refresh_timer()

    def create_overview_cards(self):
        """åˆ›å»ºæ¦‚è§ˆç»Ÿè®¡å¡ç‰‡"""
        cards_data = [
            {
                "title": "ç´¯è®¡å…³æ³¨",
                "value": "12,456",
                "change": "+1,234 ä»Šæ—¥",
                "icon": FluentIcon.PEOPLE,
                "color": "#1890ff"
            },
            {
                "title": "æˆåŠŸç‡",
                "value": "94.2%",
                "change": "+2.1% è¾ƒæ˜¨æ—¥",
                "icon": FluentIcon.COMPLETED,
                "color": "#52c41a"
            },
            {
                "title": "æ´»è·ƒè®¾å¤‡",
                "value": "8/10",
                "change": "æ­£å¸¸è¿è¡Œ",
                "icon": FluentIcon.PHONE,
                "color": "#722ed1"
            },
            {
                "title": "ä»Šæ—¥æ¶ˆè´¹",
                "value": "Â¥1,245.60",
                "change": "ä½™é¢å……è¶³",
                "icon": FluentIcon.MONEY,
                "color": "#fa8c16"
            }
        ]

        for card_data in cards_data:
            card = self.create_stat_card(card_data)
            self.addWidget(card)

    def create_charts_section(self):
        """åˆ›å»ºå›¾è¡¨åŒºåŸŸ"""
        # å…³æ³¨æ•°é‡è¶‹åŠ¿å›¾
        trend_chart = self.create_trend_chart()

        # å¹³å°åˆ†å¸ƒé¥¼å›¾
        platform_chart = self.create_platform_pie_chart()

        # è®¾å¤‡æ•ˆç‡æŸ±çŠ¶å›¾
        device_chart = self.create_device_bar_chart()

        # æ—¶é—´çƒ­åŠ›å›¾
        heatmap_chart = self.create_time_heatmap()
```

## ç•Œé¢å¸ƒå±€è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š æ•°æ®ç»Ÿè®¡ä¸­å¿ƒ                                      â”‚
â”‚ [ä»Šæ—¥] [æœ¬å‘¨] [æœ¬æœˆ] [è‡ªå®šä¹‰] æœ€åæ›´æ–°: 2åˆ†é’Ÿå‰      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”                â”‚
â”‚ â”‚ç´¯è®¡å…³æ³¨â”‚ â”‚æˆåŠŸç‡ â”‚ â”‚æ´»è·ƒè®¾å¤‡â”‚ â”‚ä»Šæ—¥æ¶ˆè´¹â”‚               â”‚
â”‚ â”‚12,456 â”‚ â”‚94.2% â”‚ â”‚ 8/10 â”‚ â”‚Â¥1,245â”‚               â”‚
â”‚ â”‚+1,234 â”‚ â”‚+2.1% â”‚ â”‚æ­£å¸¸  â”‚ â”‚ä½™é¢è¶³â”‚               â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“ˆ å…³æ³¨æ•°é‡è¶‹åŠ¿ (æœ€è¿‘30å¤©)                           â”‚
â”‚    å…³æ³¨æ•°                                           â”‚
â”‚     500â”‚    â—                                       â”‚
â”‚     400â”‚  â— â— â—   â—                                 â”‚
â”‚     300â”‚â— â— â— â— â— â— â—                               â”‚
â”‚     200â”‚â— â— â— â— â— â— â— â—                             â”‚
â”‚     100â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                â”‚
â”‚        1  5  10 15 20 25 30 æ—¥æœŸ                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ¥§ å¹³å°åˆ†å¸ƒ          ğŸ“Š è®¾å¤‡æ•ˆç‡æ’è¡Œ                 â”‚
â”‚   å°çº¢ä¹¦: 65%        è®¾å¤‡1: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 80%          â”‚
â”‚   æŠ–éŸ³: 35%          è®¾å¤‡2: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 95%          â”‚
â”‚                     è®¾å¤‡3: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ 60%          â”‚
â”‚                     è®¾å¤‡4: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 75%          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ• æ—¶é—´æ´»è·ƒåº¦çƒ­åŠ›å›¾                                  â”‚
â”‚    å°æ—¶â”‚ 0  2  4  6  8 10 12 14 16 18 20 22        â”‚
â”‚    å‘¨ä¸€â”‚ â–‘  â–‘  â–‘  â–“  â–ˆ  â–ˆ  â–“  â–“  â–ˆ  â–ˆ  â–“  â–‘        â”‚
â”‚    å‘¨äºŒâ”‚ â–‘  â–‘  â–‘  â–“  â–ˆ  â–ˆ  â–“  â–“  â–ˆ  â–ˆ  â–“  â–‘        â”‚
â”‚    å‘¨ä¸‰â”‚ â–‘  â–‘  â–‘  â–“  â–ˆ  â–ˆ  â–“  â–“  â–ˆ  â–ˆ  â–“  â–‘        â”‚
â”‚    ...â”‚ ... ... ... ... ... ... ... ... ... ... ...â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“‹ è¯¦ç»†ç»Ÿè®¡æ•°æ®                                      â”‚
â”‚ æ—¶é—´    â”‚å¹³å°  â”‚è®¾å¤‡â”‚å…³æ³¨æ•°â”‚æˆåŠŸæ•°â”‚æˆåŠŸç‡â”‚æ¶ˆè´¹é‡‘é¢    â”‚
â”‚ 14:30  â”‚å°çº¢ä¹¦â”‚è®¾å¤‡1â”‚ 50  â”‚ 47  â”‚94%  â”‚Â¥47.00     â”‚
â”‚ 14:25  â”‚æŠ–éŸ³  â”‚è®¾å¤‡2â”‚ 30  â”‚ 29  â”‚97%  â”‚Â¥34.80     â”‚
â”‚ 14:20  â”‚å°çº¢ä¹¦â”‚è®¾å¤‡3â”‚ 25  â”‚ 24  â”‚96%  â”‚Â¥24.00     â”‚
â”‚ [å¯¼å‡ºExcel] [ç”ŸæˆæŠ¥å‘Š] [è¯¦ç»†æ—¥å¿—]                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æ•°æ®åˆ†æåŠŸèƒ½

### 1. æ•ˆç‡åˆ†æç®—æ³•
```python
def calculate_device_efficiency(self, device_id, time_range):
    """è®¡ç®—è®¾å¤‡æ•ˆç‡æŒ‡æ ‡"""
    success_count = self.get_success_count(device_id, time_range)
    total_attempts = self.get_total_attempts(device_id, time_range)
    online_time = self.get_online_time(device_id, time_range)

    success_rate = success_count / total_attempts if total_attempts > 0 else 0
    speed = success_count / online_time if online_time > 0 else 0

    return {
        "success_rate": success_rate,
        "speed": speed,
        "stability": self.calculate_stability(device_id, time_range)
    }
```

### 2. è¶‹åŠ¿é¢„æµ‹
```python
def predict_daily_target(self, historical_data, target_days=7):
    """åŸºäºå†å²æ•°æ®é¢„æµ‹æœªæ¥ç›®æ ‡"""
    # ä½¿ç”¨ç®€å•çº¿æ€§å›å½’é¢„æµ‹
    from sklearn.linear_model import LinearRegression

    X = np.array(range(len(historical_data))).reshape(-1, 1)
    y = np.array(historical_data)

    model = LinearRegression().fit(X, y)

    future_X = np.array(range(len(historical_data),
                             len(historical_data) + target_days)).reshape(-1, 1)
    predictions = model.predict(future_X)

    return predictions
```

### 3. å¼‚å¸¸æ£€æµ‹
- çªç„¶çš„æˆåŠŸç‡ä¸‹é™
- è®¾å¤‡å¼‚å¸¸è¡Œä¸ºæ£€æµ‹
- å¹³å°æ”¿ç­–å˜åŒ–å½±å“
- å¼‚å¸¸æ—¶é—´ç‚¹æ ‡è®°

### 4. æ€§èƒ½ä¼˜åŒ–å»ºè®®
- æœ€ä½³ä»»åŠ¡åˆ†é…å»ºè®®
- è®¾å¤‡ä½¿ç”¨ç­–ç•¥ä¼˜åŒ–
- æ—¶é—´æ®µé€‰æ‹©å»ºè®®
- æˆæœ¬æ•ˆç›Šåˆ†æ

## å¯¼å‡ºå’ŒæŠ¥å‘ŠåŠŸèƒ½

### ExcelæŠ¥å‘Šæ ¼å¼ï¼š
- æ±‡æ€»ç»Ÿè®¡é¡µ
- æ¯æ—¥æ˜ç»†é¡µ
- è®¾å¤‡æ•ˆç‡é¡µ
- å¹³å°å¯¹æ¯”é¡µ
- æˆæœ¬åˆ†æé¡µ

### PDFæŠ¥å‘Šå†…å®¹ï¼š
- æ‰§è¡Œæ‘˜è¦
- å¯è§†åŒ–å›¾è¡¨
- å…³é”®æŒ‡æ ‡åˆ†æ
- ä¼˜åŒ–å»ºè®®
- æœªæ¥è§„åˆ’

å‚è€ƒæ•°æ®åº“schemaå’ŒAPIæ¥å£è®¾è®¡è¿›è¡Œæ•°æ®è·å–å’Œå±•ç¤ºã€‚
