# Flow Farm é¡¹ç›®çŠ¶æ€æ·±åº¦åˆ†ææŠ¥å‘Š

**ç”Ÿæˆæ—¶é—´**: 2025å¹´10æœˆ27æ—¥  
**åˆ†æèŒƒå›´**: æœåŠ¡å™¨åç«¯ã€æœåŠ¡å™¨å‰ç«¯ã€å‘˜å·¥å®¢æˆ·ç«¯

---

## ä¸€ã€é¡¹ç›®æ€»ä½“æ¶æ„æ¦‚è§ˆ

### 1.1 ä¸‰å±‚æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     æœåŠ¡å™¨å‰ç«¯ (React)                        â”‚
â”‚  - ç³»ç»Ÿç®¡ç†å‘˜ä»ªè¡¨æ¿ (SystemAdminDashboard)                    â”‚
â”‚  - ç”¨æˆ·ç®¡ç†å‘˜ä»ªè¡¨æ¿ (UserAdminDashboard)                      â”‚
â”‚  - ä½¿ç”¨ React + TypeScript + Ant Design                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚ HTTP/REST API (JSON)
                    â”‚ ç«¯å£: 8000
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   æœåŠ¡å™¨åç«¯ (Rust)                           â”‚
â”‚  - Axum Webæ¡†æ¶ + SQLiteæ•°æ®åº“                                â”‚
â”‚  - JWTè®¤è¯ + ä¸‰è§’è‰²æƒé™æ§åˆ¶                                   â”‚
â”‚  - RESTful APIè®¾è®¡                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚ HTTP/WebSocket (æœªå®ç°)
                    â”‚ ç«¯å£: 8000
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              å‘˜å·¥å®¢æˆ·ç«¯ (Rust + Tauri 2.0)                    â”‚
â”‚  - åŸç”Ÿæ¡Œé¢GUIåº”ç”¨                                            â”‚
â”‚  - ADBè®¾å¤‡ç®¡ç†                                                â”‚
â”‚  - å°çº¢ä¹¦/æŠ–éŸ³è‡ªåŠ¨åŒ–æ“ä½œ                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 æ ¸å¿ƒæŠ€æœ¯æ ˆ

| ç»„ä»¶ | æŠ€æœ¯æ ˆ | çŠ¶æ€ |
|------|--------|------|
| **æœåŠ¡å™¨åç«¯** | Rust + Axum + SQLx + SQLite | âœ… **å·²å®ç°ä¸”è¿è¡Œè‰¯å¥½** |
| **æœåŠ¡å™¨å‰ç«¯** | React 19 + TypeScript + Ant Design 5 + Vite | âœ… **å·²å®ç°ä¸”è¿è¡Œè‰¯å¥½** |
| **å‘˜å·¥å®¢æˆ·ç«¯** | Rust + Tauri 2.0 + HTML/CSS/JS | âš ï¸ **éƒ¨åˆ†å®ç°** |

---

## äºŒã€æ•°æ®æµä¼ è¾“åˆ†æ

### 2.1 å®Œæ•´æ•°æ®æµå‘å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. å‰ç«¯ç”¨æˆ·æ“ä½œ                                               â”‚
â”‚    - ç®¡ç†å‘˜ç™»å½•/åˆ›å»ºç”¨æˆ·/æŸ¥çœ‹ç»Ÿè®¡                              â”‚
â”‚    - å‘˜å·¥æŸ¥çœ‹ä»»åŠ¡/æäº¤å·¥ä½œè®°å½•                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼ HTTPè¯·æ±‚ (JSON)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. APIå±‚ (server-backend/src/handlers/)                     â”‚
â”‚    - auth.rs: ç™»å½•/æ³¨é”€/åˆ·æ–°token                             â”‚
â”‚    - users.rs: CRUDç”¨æˆ·ç®¡ç†                                   â”‚
â”‚    - work_records.rs: å·¥ä½œè®°å½•ç®¡ç†                            â”‚
â”‚    - devices.rs: è®¾å¤‡ç®¡ç†                                     â”‚
â”‚    - billing.rs: è®¡è´¹ç®¡ç†                                     â”‚
â”‚    - kpi.rs: KPIç»Ÿè®¡                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼ è°ƒç”¨æœåŠ¡å±‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. ä¸šåŠ¡é€»è¾‘å±‚ (server-backend/src/services/)                 â”‚
â”‚    - auth.rs: JWTç”Ÿæˆã€å¯†ç éªŒè¯                               â”‚
â”‚    - user.rs: ç”¨æˆ·CRUDã€æƒé™éªŒè¯                              â”‚
â”‚    - work_record.rs: å·¥ä½œè®°å½•ç»Ÿè®¡                             â”‚
â”‚    - device.rs: è®¾å¤‡çŠ¶æ€ç®¡ç†                                  â”‚
â”‚    - billing.rs: ä½™é¢è®¡ç®—ã€æ‰£è´¹é€»è¾‘                           â”‚
â”‚    - kpi.rs: KPIè®¡ç®—å’Œæ±‡æ€»                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼ SQLxæŸ¥è¯¢
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. æ•°æ®æŒä¹…å±‚ (SQLiteæ•°æ®åº“)                                  â”‚
â”‚    - users: ç”¨æˆ·è¡¨ (ä¸‰è§’è‰²æƒé™)                               â”‚
â”‚    - work_records: å·¥ä½œè®°å½•è¡¨                                 â”‚
â”‚    - devices: è®¾å¤‡è¡¨                                          â”‚
â”‚    - billing_records: è®¡è´¹è®°å½•è¡¨                              â”‚
â”‚    - company_pricing: å…¬å¸å®šä»·è¡¨                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼ è¿”å›ç»“æœ
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. å“åº”è¿”å›å‰ç«¯ (ApiResponse<T>)                             â”‚
â”‚    - success: bool                                           â”‚
â”‚    - data: T                                                 â”‚
â”‚    - message: String                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 å…³é”®æ•°æ®ç»“æ„

#### 2.2.1 ç”¨æˆ·æ•°æ®æµ (User)

```rust
// åç«¯æ¨¡å‹ (server-backend/src/models.rs)
User {
    id: i32,
    username: String,
    role: String, // system_admin | user_admin | employee
    company: Option<String>,
    balance: Option<f64>,
    max_employees: Option<i32>,
    ...
}

// å‰ç«¯æ¥å£ (server-frontend/src/types/)
interface User {
    id: number;
    username: string;
    role: string;
    company?: string;
    balance?: number;
    ...
}
```

#### 2.2.2 APIå“åº”æ ¼å¼

```typescript
// ç»Ÿä¸€å“åº”æ ¼å¼ (æ‰€æœ‰APIç«¯ç‚¹)
interface ApiResponse<T> {
    success: boolean;
    data?: T;
    message?: string;
}
```

### 2.3 è®¤è¯æµç¨‹

```
1. ç”¨æˆ·ç™»å½•
   å‰ç«¯: Login.tsx â†’ authService.login()
   åç«¯: POST /api/v1/auth/login â†’ handlers/auth.rs â†’ services/auth.rs
   è¿”å›: { token: string, user: UserInfo }

2. Tokenå­˜å‚¨
   localStorage.setItem('token', response.token)

3. åç»­è¯·æ±‚æºå¸¦Token
   apiClient.interceptors.request â†’ Authorization: Bearer {token}

4. åç«¯éªŒè¯
   middleware/auth.rs â†’ è§£æJWT â†’ éªŒè¯ç­¾å â†’ æå–ç”¨æˆ·ä¿¡æ¯

5. æƒé™æ£€æŸ¥
   services/user.rs â†’ åŸºäºroleè¿›è¡ŒCRUDæƒé™éªŒè¯
```

---

## ä¸‰ã€æ¨¡å—å†…èšæ€§å’Œè€¦åˆæ€§åˆ†æ

### 3.1 æœåŠ¡å™¨åç«¯ (Rust) - â­â­â­â­â­ ä¼˜ç§€

#### âœ… é«˜å†…èš

1. **æ¸…æ™°çš„åˆ†å±‚æ¶æ„**:
   ```
   handlers/  â†’ APIç«¯ç‚¹ï¼ˆè·¯ç”±å±‚ï¼‰
   services/  â†’ ä¸šåŠ¡é€»è¾‘å±‚
   models.rs  â†’ æ•°æ®æ¨¡å‹å±‚
   database.rs â†’ æ•°æ®è®¿é—®å±‚
   ```

2. **å•ä¸€èŒè´£**:
   - `auth.rs`: ä»…è´Ÿè´£è®¤è¯
   - `user.rs`: ä»…è´Ÿè´£ç”¨æˆ·ç®¡ç†
   - `billing.rs`: ä»…è´Ÿè´£è®¡è´¹
   - `kpi.rs`: ä»…è´Ÿè´£ç»Ÿè®¡

3. **æ¨¡å—ç‹¬ç«‹æ€§å¼º**:
   - æ¯ä¸ªhandlerä»…è°ƒç”¨å¯¹åº”çš„service
   - æ¯ä¸ªserviceç‹¬ç«‹å®Œæˆä¸šåŠ¡é€»è¾‘
   - æ•°æ®åº“æ“ä½œå°è£…åœ¨Databaseç»“æ„ä½“

#### âœ… ä½è€¦åˆ

1. **æ¥å£æŠ½è±¡**:
   ```rust
   // æ‰€æœ‰handlerä½¿ç”¨ç»Ÿä¸€çš„Stateç±»å‹
   type AppState = (Database, Config);
   ```

2. **ä¾èµ–æ³¨å…¥**:
   ```rust
   pub struct UserService {
       database: Database,
   }
   impl UserService {
       pub fn new(database: Database) -> Self { ... }
   }
   ```

3. **ç»Ÿä¸€å“åº”æ ¼å¼**:
   ```rust
   pub struct ApiResponse<T> {
       pub success: bool,
       pub data: Option<T>,
       pub message: Option<String>,
   }
   ```

### 3.2 æœåŠ¡å™¨å‰ç«¯ (React) - â­â­â­â­ è‰¯å¥½

#### âœ… é«˜å†…èš

1. **ç»„ä»¶åŒ–è®¾è®¡**:
   ```
   pages/
     SystemAdmin/
       Dashboard.tsx
       UserManagement.tsx
       CompanyStatistics.tsx
     UserAdmin/
       Dashboard.tsx
       EmployeeManagement.tsx
       BillingManagement.tsx
   ```

2. **æœåŠ¡å±‚å°è£…**:
   ```typescript
   services/
     authService.ts    â†’ è®¤è¯ç›¸å…³
     userService.ts    â†’ ç”¨æˆ·ç®¡ç†
     billingService.ts â†’ è®¡è´¹ç®¡ç†
   ```

3. **çŠ¶æ€ç®¡ç†é›†ä¸­**:
   ```typescript
   store/
     authSlice.ts    â†’ è®¤è¯çŠ¶æ€
     userSlice.ts    â†’ ç”¨æˆ·çŠ¶æ€
   ```

#### âœ… ä½è€¦åˆ

1. **APIé€‚é…å™¨æ¨¡å¼**:
   ```typescript
   // api.ts ç»Ÿä¸€ç®¡ç†HTTPå®¢æˆ·ç«¯
   export const apiClient = axios.create({
       baseURL: API_BASE_URL,
       ...
   })
   ```

2. **ç±»å‹å®šä¹‰ç‹¬ç«‹**:
   ```typescript
   types/
     index.ts â†’ æ‰€æœ‰TypeScriptæ¥å£å®šä¹‰
   ```

3. **è·¯ç”±å®ˆå«**:
   ```typescript
   // ProtectedRoute.tsx ç»Ÿä¸€æƒé™æ§åˆ¶
   ```

#### âš ï¸ å‘ç°çš„é—®é¢˜

1. **å†—ä½™æ–‡ä»¶**:
   - `UserManagement_new.tsx` (æœªä½¿ç”¨)
   - `UserDeleteTest.tsx` (æµ‹è¯•æ–‡ä»¶)
   - `ModalTest.tsx` (æµ‹è¯•æ–‡ä»¶)
   - `ApiTestPage.tsx` (æµ‹è¯•é¡µé¢)

2. **éƒ¨åˆ†è€¦åˆ**:
   - Dashboardç»„ä»¶ç›´æ¥è°ƒç”¨å¤šä¸ªAPIæœåŠ¡
   - å»ºè®®æå–æ•°æ®å±‚é€»è¾‘åˆ°è‡ªå®šä¹‰Hooks

### 3.3 å‘˜å·¥å®¢æˆ·ç«¯ (Tauri) - â­â­â­ ä¸­ç­‰

#### âœ… é«˜å†…èš

1. **Ruståç«¯æ¨¡å—åŒ–**:
   ```rust
   src-tauri/src/
     main.rs              â†’ Tauriåº”ç”¨å…¥å£
     adb_manager.rs       â†’ ADBè®¾å¤‡ç®¡ç†
     contact_manager.rs   â†’ é€šè®¯å½•ç®¡ç†
     xiaohongshu_automator.rs â†’ å°çº¢ä¹¦è‡ªåŠ¨åŒ–
     auth_service.rs      â†’ è®¤è¯æœåŠ¡
   ```

2. **åŠŸèƒ½æ¨¡å—ç‹¬ç«‹**:
   - ADBæ“ä½œå®Œå…¨å°è£…åœ¨`AdbManager`
   - å°çº¢ä¹¦è‡ªåŠ¨åŒ–ç‹¬ç«‹åœ¨`XiaohongshuAutomator`

#### âš ï¸ ä¸­ç­‰è€¦åˆ

1. **AppStateè¿‡äºé›†ä¸­**:
   ```rust
   struct AppState {
       devices: Arc<Mutex<HashMap<String, DeviceInfo>>>,
       tasks: Arc<Mutex<HashMap<String, TaskInfo>>>,
       contact_manager: Arc<ContactManager>,
       adb_manager: Arc<AdbManager>,
       xiaohongshu_automator: Arc<XiaohongshuAutomator>,
       automation_tasks: Arc<Mutex<HashMap<String, AutomationTask>>>,
       contact_lists: Arc<Mutex<HashMap<String, ContactList>>>,
       auth_service: Arc<AuthService>,
   }
   ```
   - **é—®é¢˜**: æ‰€æœ‰çŠ¶æ€é›†ä¸­åœ¨ä¸€ä¸ªç»“æ„ä½“ï¼Œå¢åŠ äº†è€¦åˆåº¦
   - **å»ºè®®**: æ‹†åˆ†ä¸ºå¤šä¸ªç‹¬ç«‹çš„çŠ¶æ€ç®¡ç†å™¨

2. **å‰ç«¯HTMLæ··ä¹±**:
   - `frontend/index.html` (1072è¡Œï¼ŒåŒ…å«å†…åµŒCSSå’ŒJS)
   - `index.html` (ç©ºçš„TypeScriptå¼•ç”¨)
   - **é—®é¢˜**: å‰ç«¯æ¶æ„ä¸æ¸…æ™°ï¼Œå­˜åœ¨é‡å¤æ–‡ä»¶
   - **å»ºè®®**: ç»Ÿä¸€ä½¿ç”¨Vueæˆ–Reactæ¡†æ¶ï¼Œé¿å…åŸç”ŸHTML

#### âŒ å‘ç°çš„ä¸¥é‡é—®é¢˜

1. **å‰ç«¯æ¶æ„æ··ä¹±**:
   ```
   employee-client/
     src/
       main.ts (ç©ºæ–‡ä»¶!)
       App.vue (Vueç»„ä»¶)
       components/ (Vueç»„ä»¶)
     frontend/
       index.html (1072è¡ŒåŸç”ŸHTML)
       device-test.html
       login.html
     index.html (å¼•ç”¨ä¸å­˜åœ¨çš„main.ts)
   ```
   - **é—®é¢˜**: åŒæ—¶å­˜åœ¨Vueå’ŒåŸç”ŸHTMLä¸¤å¥—å‰ç«¯ä»£ç 
   - **å®é™…ä½¿ç”¨**: åŸç”ŸHTML (frontend/index.html)
   - **æœªä½¿ç”¨**: Vueæ¡†æ¶ä»£ç  (src/App.vue, main.tsç­‰)

2. **Cargo.tomlä¸ºç©º**:
   ```toml
   # employee-client/Cargo.toml æ–‡ä»¶ä¸ºç©ºï¼
   # å®é™…ä½¿ç”¨çš„æ˜¯ employee-client/src-tauri/Cargo.toml
   ```

---

## å››ã€æ¨¡å—å®é™…ä½¿ç”¨æƒ…å†µ

### 4.1 æœåŠ¡å™¨åç«¯ - âœ… å…¨éƒ¨æŠ•å…¥ä½¿ç”¨

| æ¨¡å— | æ–‡ä»¶ | çŠ¶æ€ | ä½¿ç”¨ç‡ |
|------|------|------|--------|
| **è®¤è¯** | handlers/auth.rs | âœ… ä½¿ç”¨ä¸­ | 100% |
| **ç”¨æˆ·ç®¡ç†** | handlers/users.rs | âœ… ä½¿ç”¨ä¸­ | 100% |
| **å·¥ä½œè®°å½•** | handlers/work_records.rs | âœ… ä½¿ç”¨ä¸­ | 100% |
| **è®¾å¤‡ç®¡ç†** | handlers/devices.rs | âœ… ä½¿ç”¨ä¸­ | 100% |
| **è®¡è´¹** | handlers/billing.rs | âœ… ä½¿ç”¨ä¸­ | 100% |
| **KPIç»Ÿè®¡** | handlers/kpi.rs | âœ… ä½¿ç”¨ä¸­ | 100% |
| **å…¬å¸å®šä»·** | handlers/company_pricing.rs | âœ… ä½¿ç”¨ä¸­ | 100% |
| **å¥åº·æ£€æŸ¥** | handlers/health.rs | âœ… ä½¿ç”¨ä¸­ | 100% |
| **APIæ–‡æ¡£** | handlers/docs.rs | âœ… ä½¿ç”¨ä¸­ | 100% |

**æ€»ç»“**: åç«¯æ‰€æœ‰æ¨¡å—éƒ½å·²æ­£ç¡®å®ç°å¹¶æŠ•å…¥ä½¿ç”¨ï¼Œæ— å†—ä½™ä»£ç ã€‚

### 4.2 æœåŠ¡å™¨å‰ç«¯ - âš ï¸ éƒ¨åˆ†å†—ä½™

#### âœ… æ ¸å¿ƒåŠŸèƒ½ (ä½¿ç”¨ä¸­)

| é¡µé¢ | æ–‡ä»¶ | çŠ¶æ€ |
|------|------|------|
| ç™»å½•é¡µ | Login.tsx | âœ… ä½¿ç”¨ä¸­ |
| ç³»ç»Ÿç®¡ç†å‘˜ä»ªè¡¨æ¿ | SystemAdminDashboard.tsx | âœ… ä½¿ç”¨ä¸­ |
| ç”¨æˆ·ç®¡ç†å‘˜ä»ªè¡¨æ¿ | UserAdminDashboard.tsx | âœ… ä½¿ç”¨ä¸­ |
| ç”¨æˆ·ç®¡ç† | SystemAdmin/UserManagement.tsx | âœ… ä½¿ç”¨ä¸­ |
| å‘˜å·¥ç®¡ç† | UserAdmin/EmployeeManagement.tsx | âœ… ä½¿ç”¨ä¸­ |
| è®¡è´¹ç®¡ç† | UserAdmin/BillingManagement.tsx | âœ… ä½¿ç”¨ä¸­ |
| å…¬å¸ç»Ÿè®¡ | SystemAdmin/CompanyStatistics.tsx | âœ… ä½¿ç”¨ä¸­ |
| å…¬å¸å®šä»· | SystemAdmin/CompanyPricingManagement.tsx | âœ… ä½¿ç”¨ä¸­ |

#### âŒ å†—ä½™æ–‡ä»¶ (æœªä½¿ç”¨)

| æ–‡ä»¶ | ç±»å‹ | å»ºè®® |
|------|------|------|
| SystemAdmin/UserManagement_new.tsx | é‡å¤æ–‡ä»¶ | ğŸ—‘ï¸ **åˆ é™¤** |
| SystemAdmin/UserDeleteTest.tsx | æµ‹è¯•æ–‡ä»¶ | ğŸ—‘ï¸ **åˆ é™¤** |
| SystemAdmin/ModalTest.tsx | æµ‹è¯•æ–‡ä»¶ | ğŸ—‘ï¸ **åˆ é™¤** |
| SystemAdmin/ApiTestPage.tsx | æµ‹è¯•é¡µé¢ | ğŸ—‘ï¸ **åˆ é™¤** |
| public/test-employee-creation.html | æµ‹è¯•é¡µé¢ | ğŸ—‘ï¸ **åˆ é™¤** |

### 4.3 å‘˜å·¥å®¢æˆ·ç«¯ - âš ï¸ ä¸¥é‡æ··ä¹±

#### âœ… Ruståç«¯ (ä½¿ç”¨ä¸­)

| æ¨¡å— | æ–‡ä»¶ | çŠ¶æ€ |
|------|------|------|
| Tauriä¸»ç¨‹åº | src-tauri/src/main.rs | âœ… ä½¿ç”¨ä¸­ |
| ADBè®¾å¤‡ç®¡ç† | src-tauri/src/adb_manager.rs | âœ… ä½¿ç”¨ä¸­ |
| é€šè®¯å½•ç®¡ç† | src-tauri/src/contact_manager.rs | âœ… ä½¿ç”¨ä¸­ |
| å°çº¢ä¹¦è‡ªåŠ¨åŒ– | src-tauri/src/xiaohongshu_automator.rs | âœ… ä½¿ç”¨ä¸­ |
| è®¤è¯æœåŠ¡ | src-tauri/src/auth_service.rs | âœ… ä½¿ç”¨ä¸­ |

#### âŒ å‰ç«¯æ¶æ„æ··ä¹±

```
âœ… å®é™…ä½¿ç”¨:
   frontend/index.html (1072è¡ŒåŸç”ŸHTML+CSS+å†…åµŒJS)

âŒ æœªä½¿ç”¨ (å†—ä½™):
   src/main.ts (ç©ºæ–‡ä»¶)
   src/App.vue (Vueç»„ä»¶ï¼Œæœªè¢«å¼•ç”¨)
   src/components/ (Vueç»„ä»¶ç›®å½•ï¼Œæœªè¢«å¼•ç”¨)
   src/router/ (Vueè·¯ç”±ï¼Œæœªè¢«å¼•ç”¨)
   src/stores/ (PiniaçŠ¶æ€ç®¡ç†ï¼Œæœªè¢«å¼•ç”¨)
   src/views/ (Vueè§†å›¾ï¼Œæœªè¢«å¼•ç”¨)
   index.html (å¼•ç”¨ä¸å­˜åœ¨çš„/src/main.ts)

âš ï¸ é‡å¤:
   frontend/login.html (ç™»å½•é¡µ)
   frontend/device-test.html (è®¾å¤‡æµ‹è¯•é¡µ)
   frontend/main-test.html (ä¸»ç•Œé¢æµ‹è¯•é¡µ)
```

**é—®é¢˜åˆ†æ**:
1. é¡¹ç›®æœ€åˆè®¡åˆ’ä½¿ç”¨Vue.jsæ¡†æ¶
2. å®é™…å¼€å‘ä½¿ç”¨äº†åŸç”ŸHTMLï¼ˆå¯èƒ½ä¸ºäº†å¿«é€ŸåŸå‹ï¼‰
3. Vueç›¸å…³ä»£ç æœªæ¸…ç†ï¼Œå¯¼è‡´æ··ä¹±
4. `src/main.ts`ä¸ºç©ºï¼Œä½†è¢«`index.html`å¼•ç”¨

---

## äº”ã€å…³é”®ä¸šåŠ¡é€»è¾‘å®ç°çŠ¶æ€

### 5.1 ä¸‰è§’è‰²æƒé™ç³»ç»Ÿ - âœ… å·²å®Œæ•´å®ç°

```rust
// åç«¯æƒé™éªŒè¯ (services/user.rs)
match current_user.role.as_str() {
    "system_admin" => {
        // ç³»ç»Ÿç®¡ç†å‘˜å¯ä»¥åˆ›å»ºä»»ä½•è§’è‰²çš„ç”¨æˆ·
        // å¯ä»¥æŸ¥çœ‹æ‰€æœ‰å…¬å¸æ•°æ®
    }
    "user_admin" => {
        // ç”¨æˆ·ç®¡ç†å‘˜åªèƒ½åˆ›å»ºå‘˜å·¥
        // åªèƒ½æŸ¥çœ‹è‡ªå·±å…¬å¸æ•°æ®
        // é™åˆ¶: max_employees (é»˜è®¤10)
    }
    "employee" => {
        // å‘˜å·¥æ— æƒåˆ›å»ºç”¨æˆ·
        return Err(anyhow!("æƒé™ä¸è¶³"));
    }
    _ => return Err(anyhow!("æœªçŸ¥è§’è‰²"))
}
```

**å®ç°çŠ¶æ€**: âœ… å®Œæ•´

### 5.2 è®¡è´¹ç³»ç»Ÿ - âœ… å·²å®ç°

```rust
// æ•°æ®åº“è¡¨ç»“æ„
CREATE TABLE billing_records (
    id TEXT PRIMARY KEY,
    user_id TEXT NOT NULL,
    amount REAL NOT NULL,
    billing_type TEXT NOT NULL, // charge | deduct
    description TEXT,
    created_at DATETIME NOT NULL
);

// åç«¯æœåŠ¡ (services/billing.rs)
pub async fn deduct_balance(&self, user_id: &str, amount: f64) -> Result<()> {
    // 1. æ£€æŸ¥ä½™é¢
    // 2. æ‰£è´¹
    // 3. è®°å½•è®¡è´¹è®°å½•
}
```

**å®ç°çŠ¶æ€**: âœ… å®Œæ•´ï¼ˆä½†ç¼ºå°‘ä¸å‘˜å·¥å®¢æˆ·ç«¯çš„é›†æˆï¼‰

### 5.3 è®¾å¤‡ç®¡ç† - âš ï¸ éƒ¨åˆ†å®ç°

#### åç«¯API - âœ… å·²å®ç°

```rust
// handlers/devices.rs
pub async fn list_devices(...) â†’ è·å–è®¾å¤‡åˆ—è¡¨
pub async fn create_device(...) â†’ åˆ›å»ºè®¾å¤‡
pub async fn update_device(...) â†’ æ›´æ–°è®¾å¤‡çŠ¶æ€
pub async fn delete_device(...) â†’ åˆ é™¤è®¾å¤‡
```

#### å‘˜å·¥å®¢æˆ·ç«¯ - âš ï¸ éƒ¨åˆ†å®ç°

```rust
// src-tauri/src/adb_manager.rs
pub async fn list_devices() â†’ âœ… å·²å®ç°
pub async fn connect_device(device_id: String) â†’ âœ… å·²å®ç°
pub async fn disconnect_device(device_id: String) â†’ âœ… å·²å®ç°
pub async fn execute_command(device_id, command) â†’ âœ… å·²å®ç°
```

**ç¼ºå¤±åŠŸèƒ½**:
- âŒ è®¾å¤‡çŠ¶æ€è‡ªåŠ¨åŒæ­¥åˆ°æœåŠ¡å™¨
- âŒ è®¾å¤‡åœ¨çº¿/ç¦»çº¿çŠ¶æ€ç›‘æ§
- âŒ è®¾å¤‡é™åˆ¶ï¼ˆæ¯å‘˜å·¥æœ€å¤š10å°ï¼‰éªŒè¯

### 5.4 å°çº¢ä¹¦è‡ªåŠ¨åŒ– - âš ï¸ åŸºç¡€å®ç°

```rust
// src-tauri/src/xiaohongshu_automator.rs
pub struct XiaohongshuAutomator {
    adb_manager: Arc<AdbManager>,
}

// å·²å®ç°åŠŸèƒ½
impl XiaohongshuAutomator {
    pub async fn search_user(...) â†’ âœ… åŸºç¡€å®ç°
    pub async fn follow_user(...) â†’ âš ï¸ éœ€å®Œå–„
    pub async fn batch_follow(...) â†’ âš ï¸ éœ€å®Œå–„
}
```

**å®ç°çŠ¶æ€**: âš ï¸ æ¡†æ¶æ­å»ºå®Œæˆï¼Œæ ¸å¿ƒé€»è¾‘éœ€å®Œå–„

### 5.5 é˜²é‡å¤å…³æ³¨ - âŒ æœªå®ç°

**éœ€æ±‚**: ç®¡ç†å‘˜åä¸‹æ‰€æœ‰ç”¨æˆ·è®¾å¤‡å…±äº«å…³æ³¨è®°å½•ï¼Œç¡®ä¿ä¸é‡å¤å…³æ³¨

**å½“å‰çŠ¶æ€**: âŒ æœªæ‰¾åˆ°ç›¸å…³å®ç°ä»£ç 

**å»ºè®®å®ç°**:
```sql
-- æ•°æ®åº“è¡¨è®¾è®¡
CREATE TABLE followed_users (
    id TEXT PRIMARY KEY,
    company TEXT NOT NULL, -- å…¬å¸åï¼ˆç®¡ç†å‘˜åˆ†ç»„ï¼‰
    platform TEXT NOT NULL, -- xiaohongshu | douyin
    target_user_id TEXT NOT NULL,
    followed_at DATETIME NOT NULL,
    UNIQUE(company, platform, target_user_id)
);
```

---

## å…­ã€æ— æ•ˆä»£ç å’Œæ¨¡å—æ¸…å•

### 6.1 æœåŠ¡å™¨åç«¯ - âœ… æ— å†—ä½™

**ç»“è®º**: æ‰€æœ‰ä»£ç éƒ½åœ¨ä½¿ç”¨ï¼Œæ¶æ„æ¸…æ™°ï¼Œæ— éœ€æ¸…ç†ã€‚

### 6.2 æœåŠ¡å™¨å‰ç«¯ - âš ï¸ å°‘é‡å†—ä½™

#### å»ºè®®åˆ é™¤çš„æ–‡ä»¶:

```bash
# å†—ä½™çš„æµ‹è¯•å’Œé‡å¤æ–‡ä»¶
server-frontend/src/pages/SystemAdmin/UserManagement_new.tsx
server-frontend/src/pages/SystemAdmin/UserDeleteTest.tsx
server-frontend/src/pages/SystemAdmin/ModalTest.tsx
server-frontend/src/pages/SystemAdmin/ApiTestPage.tsx
server-frontend/public/test-employee-creation.html
```

**å½±å“**: åˆ é™¤åä¸å½±å“ä»»ä½•åŠŸèƒ½

### 6.3 å‘˜å·¥å®¢æˆ·ç«¯ - âŒ å¤§é‡å†—ä½™

#### å»ºè®®åˆ é™¤çš„æ•´ä¸ªç›®å½•å’Œæ–‡ä»¶:

```bash
# Vueæ¡†æ¶ç›¸å…³ï¼ˆæœªä½¿ç”¨ï¼‰
employee-client/src/App.vue
employee-client/src/main.ts (ç©ºæ–‡ä»¶)
employee-client/src/components/
employee-client/src/router/
employee-client/src/stores/
employee-client/src/views/
employee-client/src/types/
employee-client/package.json (Vueç›¸å…³)
employee-client/tsconfig.json (Vueç›¸å…³)
employee-client/vite.config.ts (Vueç›¸å…³)

# é‡å¤çš„HTMLæ–‡ä»¶
employee-client/frontend/login.html (å·²æœ‰ä¸»index.html)
employee-client/frontend/device-test.html (æµ‹è¯•é¡µé¢)
employee-client/frontend/main-test.html (æµ‹è¯•é¡µé¢)

# æµ‹è¯•æ–‡ä»¶
employee-client/test_adb.rs
employee-client/test_connection.rs
employee-client/test_connection/
employee-client/test-login.html
employee-client/test_server_connection.bat
employee-client/test_server_connection.ps1

# ç©ºçš„Cargo.toml
employee-client/Cargo.toml (ç©ºæ–‡ä»¶ï¼Œå®é™…ä½¿ç”¨src-tauri/Cargo.toml)
```

**å½±å“**: åˆ é™¤åä¸å½±å“ä»»ä½•åŠŸèƒ½ï¼Œåè€Œä½¿é¡¹ç›®æ›´æ¸…æ™°

---

## ä¸ƒã€æ¶æ„ä¼˜åŒ–å»ºè®®

### 7.1 ç´§æ€¥ä¼˜åŒ– (é«˜ä¼˜å…ˆçº§)

#### 1. æ¸…ç†å‘˜å·¥å®¢æˆ·ç«¯å‰ç«¯æ¶æ„ â­â­â­â­â­

**é—®é¢˜**: å‰ç«¯ä»£ç æ··ä¹±ï¼ŒVueå’ŒåŸç”ŸHTMLå…±å­˜

**å»ºè®®æ–¹æ¡ˆA** (æ¨è - ç»§ç»­ä½¿ç”¨åŸç”ŸHTML):
```bash
# 1. åˆ é™¤æ‰€æœ‰Vueç›¸å…³ä»£ç 
rm -rf employee-client/src/components
rm -rf employee-client/src/router
rm -rf employee-client/src/stores
rm -rf employee-client/src/views
rm employee-client/src/App.vue
rm employee-client/src/main.ts
rm employee-client/package.json
rm employee-client/tsconfig.json
rm employee-client/vite.config.ts

# 2. é‡å‘½åfrontendä¸ºsrc-web
mv employee-client/frontend employee-client/src-web

# 3. æ›´æ–°index.htmlå¼•ç”¨
# ä¿®æ”¹ employee-client/index.html:
# å°† <script type="module" src="/src/main.ts"></script>
# æ”¹ä¸º <script src="/src-web/app.js"></script>
```

**å»ºè®®æ–¹æ¡ˆB** (ä½¿ç”¨Vueæ¡†æ¶):
```bash
# 1. å®Œæ•´å®ç°Vueæ¡†æ¶
# 2. åˆ é™¤frontend/ç›®å½•
# 3. å°†åŸç”ŸHTMLé€»è¾‘è¿ç§»åˆ°Vueç»„ä»¶
```

**æ¨è**: æ–¹æ¡ˆAï¼ˆç»§ç»­åŸç”ŸHTMLï¼‰ï¼Œå› ä¸ºTauriå·²æä¾›å®Œå–„çš„å‰åç«¯é€šä¿¡æœºåˆ¶

#### 2. ç»Ÿä¸€å‘˜å·¥å®¢æˆ·ç«¯Cargoé…ç½® â­â­â­â­

**é—®é¢˜**: æ ¹ç›®å½•Cargo.tomlä¸ºç©ºï¼Œå®¹æ˜“å¼•èµ·æ··æ·†

**è§£å†³æ–¹æ¡ˆ**:
```bash
# åˆ é™¤ç©ºçš„Cargo.toml
rm employee-client/Cargo.toml

# æˆ–è€…å°†å…¶è®¾ç½®ä¸ºworkspaceé…ç½®
[workspace]
members = ["src-tauri"]
```

#### 3. å®ç°è®¾å¤‡çŠ¶æ€åŒæ­¥ â­â­â­â­

**ç¼ºå¤±**: å‘˜å·¥å®¢æˆ·ç«¯è®¾å¤‡çŠ¶æ€æœªåŒæ­¥åˆ°æœåŠ¡å™¨

**å®ç°æ­¥éª¤**:
```rust
// 1. å‘˜å·¥å®¢æˆ·ç«¯ç™»å½•åæ³¨å†Œè®¾å¤‡
#[tauri::command]
async fn sync_device_status(
    device_id: String,
    status: String,
    state: State<'_, AppState>
) -> Result<(), String> {
    // è°ƒç”¨æœåŠ¡å™¨API: POST /api/v1/devices
    state.auth_service.api_client.post(
        "/api/v1/devices",
        json!({
            "device_id": device_id,
            "status": status,
            "last_seen": Utc::now()
        })
    ).await?;
    Ok(())
}

// 2. å®šæ—¶å¿ƒè·³
tokio::spawn(async move {
    let mut interval = interval(Duration::from_secs(30));
    loop {
        interval.tick().await;
        sync_device_status(...).await;
    }
});
```

### 7.2 åŠŸèƒ½å®Œå–„ (ä¸­ä¼˜å…ˆçº§)

#### 1. å®ç°é˜²é‡å¤å…³æ³¨åŠŸèƒ½ â­â­â­â­

```sql
-- æ•°æ®åº“è¡¨
CREATE TABLE followed_users (
    id TEXT PRIMARY KEY,
    company TEXT NOT NULL,
    platform TEXT NOT NULL,
    target_user_id TEXT NOT NULL,
    followed_by_employee TEXT NOT NULL,
    followed_at DATETIME NOT NULL,
    UNIQUE(company, platform, target_user_id)
);
```

```rust
// æœåŠ¡ç«¯API
pub async fn check_followed(
    company: &str,
    platform: &str,
    target_user_id: &str
) -> Result<bool> {
    // æŸ¥è¯¢æ˜¯å¦å·²å…³æ³¨
}

// å®¢æˆ·ç«¯å…³æ³¨å‰æ£€æŸ¥
async fn follow_user(target_user_id: &str) -> Result<()> {
    // 1. è°ƒç”¨APIæ£€æŸ¥æ˜¯å¦å·²å…³æ³¨
    let is_followed = check_followed(...).await?;
    if is_followed {
        return Err("è¯¥ç”¨æˆ·å·²è¢«å…³æ³¨".into());
    }
    
    // 2. æ‰§è¡Œå…³æ³¨æ“ä½œ
    // 3. è®°å½•å…³æ³¨è®°å½•
}
```

#### 2. å®Œå–„è®¡è´¹æ‰£è´¹é€»è¾‘ â­â­â­

```rust
// å®¢æˆ·ç«¯å…³æ³¨æˆåŠŸåè‡ªåŠ¨æ‰£è´¹
async fn on_follow_success(target_user_id: &str) -> Result<()> {
    // 1. è°ƒç”¨APIæ‰£è´¹
    api_client.post(
        "/api/v1/billing/deduct",
        json!({ "amount": 0.1, "reason": "å…³æ³¨ç”¨æˆ·" })
    ).await?;
    
    // 2. æ›´æ–°æœ¬åœ°ä½™é¢æ˜¾ç¤º
    update_balance_ui(...).await;
    
    Ok(())
}

// æäº¤ä»»åŠ¡å‰æ£€æŸ¥ä½™é¢
async fn submit_task(...) -> Result<()> {
    let balance = get_user_balance().await?;
    let required = task.contact_count * 0.1;
    
    if balance < required {
        return Err("ä½™é¢ä¸è¶³ï¼Œè¯·å……å€¼".into());
    }
    
    // æäº¤ä»»åŠ¡
}
```

#### 3. å°çº¢ä¹¦è‡ªåŠ¨åŒ–å®Œå–„ â­â­â­

å½“å‰åªæœ‰åŸºç¡€æ¡†æ¶ï¼Œéœ€è¦å®Œå–„:
- æœç´¢ç”¨æˆ·ç®—æ³•
- å…³æ³¨æŒ‰é’®è¯†åˆ«
- é”™è¯¯é‡è¯•æœºåˆ¶
- æ“ä½œé—´éš”æ§åˆ¶
- æˆªå›¾ä¿å­˜

### 7.3 æ¶æ„æ”¹è¿› (ä½ä¼˜å…ˆçº§)

#### 1. æ‹†åˆ†AppState â­â­

**å½“å‰é—®é¢˜**: æ‰€æœ‰çŠ¶æ€é›†ä¸­åœ¨ä¸€ä¸ªç»“æ„ä½“

**å»ºè®®**:
```rust
// æ‹†åˆ†ä¸ºå¤šä¸ªç‹¬ç«‹çš„çŠ¶æ€ç®¡ç†å™¨
struct DeviceState {
    devices: Arc<Mutex<HashMap<String, DeviceInfo>>>,
    adb_manager: Arc<AdbManager>,
}

struct TaskState {
    tasks: Arc<Mutex<HashMap<String, TaskInfo>>>,
    automation_tasks: Arc<Mutex<HashMap<String, AutomationTask>>>,
}

struct ContactState {
    contact_manager: Arc<ContactManager>,
    contact_lists: Arc<Mutex<HashMap<String, ContactList>>>,
}

struct AuthState {
    auth_service: Arc<AuthService>,
}
```

#### 2. å‰ç«¯çŠ¶æ€ç®¡ç†ä¼˜åŒ– â­â­

**å»ºè®®**:
- æå–æ•°æ®è·å–é€»è¾‘åˆ°è‡ªå®šä¹‰Hooks
- ä½¿ç”¨React Queryè¿›è¡ŒæœåŠ¡ç«¯çŠ¶æ€ç®¡ç†
- å‡å°‘ç»„ä»¶ç›´æ¥è°ƒç”¨APIæœåŠ¡

---

## å…«ã€æ€»ç»“å’Œè¡ŒåŠ¨è®¡åˆ’

### 8.1 é¡¹ç›®å½“å‰å¥åº·åº¦è¯„åˆ†

| ç»„ä»¶ | è¯„åˆ† | çŠ¶æ€ |
|------|------|------|
| **æœåŠ¡å™¨åç«¯** | 95/100 | âœ… ä¼˜ç§€ |
| **æœåŠ¡å™¨å‰ç«¯** | 85/100 | âœ… è‰¯å¥½ |
| **å‘˜å·¥å®¢æˆ·ç«¯** | 60/100 | âš ï¸ éœ€è¦é‡æ„ |
| **æ•´ä½“æ¶æ„** | 80/100 | âœ… è‰¯å¥½ |

### 8.2 ç«‹å³è¡ŒåŠ¨æ¸…å• (æœ¬å‘¨å®Œæˆ)

#### ç¬¬1ä¼˜å…ˆçº§ - æ¸…ç†å†—ä½™ä»£ç 

```bash
# 1. æœåŠ¡å™¨å‰ç«¯æ¸…ç†
cd server-frontend
rm src/pages/SystemAdmin/UserManagement_new.tsx
rm src/pages/SystemAdmin/UserDeleteTest.tsx
rm src/pages/SystemAdmin/ModalTest.tsx
rm src/pages/SystemAdmin/ApiTestPage.tsx
rm public/test-employee-creation.html

# 2. å‘˜å·¥å®¢æˆ·ç«¯æ¸…ç†
cd employee-client
rm -rf src/components src/router src/stores src/views src/types
rm src/App.vue src/main.ts
rm package.json tsconfig.json vite.config.ts
rm frontend/login.html frontend/device-test.html frontend/main-test.html
rm test*.rs test*.html test*.bat test*.ps1
rm -rf test_connection
mv frontend src-web

# 3. æ›´æ–°index.htmlå¼•ç”¨
# (æ‰‹åŠ¨ä¿®æ”¹)
```

#### ç¬¬2ä¼˜å…ˆçº§ - æ ¸å¿ƒåŠŸèƒ½å®Œå–„

1. **å®ç°è®¾å¤‡çŠ¶æ€åŒæ­¥** (2å¤©)
   - å‘˜å·¥å®¢æˆ·ç«¯ç™»å½•åè‡ªåŠ¨æ³¨å†Œè®¾å¤‡
   - 30ç§’å¿ƒè·³ä¿æŒåœ¨çº¿çŠ¶æ€
   - æœåŠ¡å™¨ç«¯æ˜¾ç¤ºè®¾å¤‡å®æ—¶çŠ¶æ€

2. **å®ç°é˜²é‡å¤å…³æ³¨** (2å¤©)
   - åˆ›å»ºfollowed_usersè¡¨
   - APIç«¯ç‚¹å®ç°
   - å®¢æˆ·ç«¯é›†æˆæ£€æŸ¥é€»è¾‘

3. **å®Œå–„è®¡è´¹æ‰£è´¹** (1å¤©)
   - å…³æ³¨æˆåŠŸè‡ªåŠ¨æ‰£è´¹
   - ä½™é¢ä¸è¶³æ‹¦æˆª
   - æ‰£è´¹è®°å½•åŒæ­¥

#### ç¬¬3ä¼˜å…ˆçº§ - æ–‡æ¡£å’Œæµ‹è¯•

1. **åˆ›å»ºAPIæ–‡æ¡£** (1å¤©)
   - ä½¿ç”¨Swagger/OpenAPI
   - æ‰€æœ‰ç«¯ç‚¹è¯¦ç»†è¯´æ˜

2. **ç¼–å†™é›†æˆæµ‹è¯•** (2å¤©)
   - åç«¯APIæµ‹è¯•
   - å‰åç«¯é›†æˆæµ‹è¯•

### 8.3 ä¸‹ä¸€é˜¶æ®µè§„åˆ’ (2å‘¨å†…)

1. **å°çº¢ä¹¦è‡ªåŠ¨åŒ–å®Œæ•´å®ç°**
   - UIå…ƒç´ è¯†åˆ«ç®—æ³•
   - å…³æ³¨æ“ä½œå®Œæ•´æµç¨‹
   - é”™è¯¯å¤„ç†å’Œé‡è¯•

2. **æŠ–éŸ³å¹³å°æ”¯æŒ**
   - å‚è€ƒå°çº¢ä¹¦æ¨¡å¼
   - å®ç°douyin_automatoræ¨¡å—

3. **æ€§èƒ½ä¼˜åŒ–**
   - æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–
   - å‰ç«¯æ¸²æŸ“ä¼˜åŒ–
   - å¹¶å‘å¤„ç†ä¼˜åŒ–

---

## ä¹ã€æŠ€æœ¯å€ºåŠ¡æ¸…å•

### 9.1 é«˜ä¼˜å…ˆçº§å€ºåŠ¡

1. âŒ å‘˜å·¥å®¢æˆ·ç«¯å‰ç«¯æ¶æ„æ··ä¹± (Vue vs åŸç”ŸHTML)
2. âŒ è®¾å¤‡çŠ¶æ€æœªåŒæ­¥åˆ°æœåŠ¡å™¨
3. âŒ é˜²é‡å¤å…³æ³¨åŠŸèƒ½ç¼ºå¤±
4. âŒ è®¡è´¹æ‰£è´¹æœªä¸å®¢æˆ·ç«¯é›†æˆ

### 9.2 ä¸­ä¼˜å…ˆçº§å€ºåŠ¡

1. âš ï¸ å°çº¢ä¹¦è‡ªåŠ¨åŒ–é€»è¾‘ä¸å®Œæ•´
2. âš ï¸ ç¼ºå°‘å®Œæ•´çš„é”™è¯¯å¤„ç†æœºåˆ¶
3. âš ï¸ ç¼ºå°‘æ—¥å¿—è®°å½•è§„èŒƒ
4. âš ï¸ ç¼ºå°‘å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•

### 9.3 ä½ä¼˜å…ˆçº§å€ºåŠ¡

1. ğŸ“ APIæ–‡æ¡£ä¸å®Œå–„
2. ğŸ“ ä»£ç æ³¨é‡Šä¸å¤Ÿè¯¦ç»†
3. ğŸ“ ç¼ºå°‘éƒ¨ç½²æ–‡æ¡£
4. ğŸ“ æ€§èƒ½ç›‘æ§ç¼ºå¤±

---

## åã€æœ€ç»ˆå»ºè®®

### âœ… é¡¹ç›®ä¼˜åŠ¿

1. **åç«¯æ¶æ„ä¼˜ç§€**: Rust + Axum + SQLiteï¼Œé«˜æ€§èƒ½ã€ç±»å‹å®‰å…¨
2. **æƒé™ç³»ç»Ÿå®Œå–„**: ä¸‰è§’è‰²RBACå®ç°æ¸…æ™°
3. **å‰ç«¯ç°ä»£åŒ–**: React 19 + TypeScript + Ant Design 5
4. **æ¨¡å—åŒ–è®¾è®¡è‰¯å¥½**: å¤§éƒ¨åˆ†ä»£ç é«˜å†…èšä½è€¦åˆ

### âš ï¸ ä¸»è¦é—®é¢˜

1. **å‘˜å·¥å®¢æˆ·ç«¯å‰ç«¯æ··ä¹±**: Vueå’ŒåŸç”ŸHTMLå…±å­˜ï¼Œéœ€è¦ç»Ÿä¸€
2. **æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ä¸å®Œæ•´**: é˜²é‡å¤å…³æ³¨ã€è®¡è´¹æ‰£è´¹éœ€å®Œå–„
3. **è®¾å¤‡ç®¡ç†æœªæ‰“é€š**: å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨æœªå®æ—¶åŒæ­¥
4. **æµ‹è¯•è¦†ç›–ä¸è¶³**: ç¼ºå°‘è‡ªåŠ¨åŒ–æµ‹è¯•

### ğŸ¯ æ ¸å¿ƒå»ºè®®

**ç«‹å³æ‰§è¡Œ**:
1. æ¸…ç†å†—ä½™ä»£ç ï¼ˆ1å¤©ï¼‰
2. ç»Ÿä¸€å‘˜å·¥å®¢æˆ·ç«¯å‰ç«¯æ¶æ„ï¼ˆ2å¤©ï¼‰
3. å®ç°è®¾å¤‡çŠ¶æ€åŒæ­¥ï¼ˆ2å¤©ï¼‰
4. å®ç°é˜²é‡å¤å…³æ³¨ï¼ˆ2å¤©ï¼‰

**2å‘¨å†…å®Œæˆ**:
1. å®Œå–„è®¡è´¹æ‰£è´¹é€»è¾‘
2. å®Œæˆå°çº¢ä¹¦è‡ªåŠ¨åŒ–
3. æ·»åŠ é›†æˆæµ‹è¯•
4. ç¼–å†™å®Œæ•´APIæ–‡æ¡£

**æŒç»­ä¼˜åŒ–**:
1. æ€§èƒ½ç›‘æ§å’Œä¼˜åŒ–
2. ä»£ç è´¨é‡æå‡
3. ç”¨æˆ·ä½“éªŒæ”¹è¿›
4. å®‰å…¨æ€§åŠ å¼º

---

**æŠ¥å‘Šç»“æŸ**

æ­¤æŠ¥å‘Šè¯¦ç»†åˆ†æäº†Flow Farmé¡¹ç›®çš„å½“å‰çŠ¶æ€ï¼ŒåŒ…æ‹¬æ¶æ„è®¾è®¡ã€æ•°æ®æµã€æ¨¡å—è€¦åˆåº¦ã€ä»£ç ä½¿ç”¨æƒ…å†µå’Œä¼˜åŒ–å»ºè®®ã€‚é¡¹ç›®æ•´ä½“æ¶æ„è‰¯å¥½ï¼Œä½†å‘˜å·¥å®¢æˆ·ç«¯éœ€è¦é‡ç‚¹æ•´æ”¹ã€‚å»ºè®®æŒ‰ç…§ä¼˜å…ˆçº§é€æ­¥å®Œæˆä¼˜åŒ–ä»»åŠ¡ã€‚
