# Flow Farm 功能需求细化文档

## 文档概述

本文档用于详细规划和细化 Flow Farm 项目的核心功能模块，通过逐步讨论的方式确定最终的需求规格。

---

## 1. 同行扫描与智能关注模块

### 1.1 评论区同行扫描功能
#### 核心需求
- 扫描目标帖子的评论区用户
- 基于关键词筛选活跃用户
- 自动执行关注操作

#### 待细化问题
1. **目标帖子选择策略**
   - 如何确定要扫描的帖子？（手动选择 vs 自动筛选）
   - 帖子的热度标准是什么？（点赞数、评论数、浏览量的具体阈值）

2. **评论区扫描范围**
   - 扫描评论的数量限制？（前100条、500条还是全部？）
   - 是否包括回复的回复？
   - 扫描频率控制？

3. **用户筛选逻辑**
   - 关键词匹配算法？（精确匹配 vs 模糊匹配）
   - 用户质量评估标准？（粉丝数、认证状态、活跃度等）

### 1.2 关键词查找与筛选机制
#### 核心需求
- 支持询问类关键词识别
- 智能筛选潜在客户
- 自动关注符合条件的用户

#### 待细化问题
1. **关键词库设计**
   - 预设关键词分类？（咨询类、购买意向类、问题类等）
   - 支持用户自定义关键词？
   - 关键词权重设置？

2. **筛选算法优化**
   - 如何处理同义词和相似表达？
   - 负面关键词过滤机制？
   - 评论内容质量评估？

### 1.3 帖子热度判断标准
#### 当前需求
- 基于浏览量、点赞数等指标筛选帖子

#### 待细化问题
1. **热度阈值设定**
   - 不同平台的热度标准？（抖音 vs 小红书）
   - 阈值是否支持动态调整？
   - 行业分类对热度标准的影响？

---

## 2. 批量关注模块

### 2.1 通讯录导入与关注功能
#### 核心流程
1. 导入通讯录到手机
2. 开启通讯录权限
3. 批量关注通讯录联系人

#### 待细化问题
1. **通讯录数据格式**
   - 支持的文件格式？（CSV、Excel、vCard等）
   - 必需字段和可选字段定义？
   - 数据验证和清洗机制？

2. **导入操作流程**
   - 如何自动化导入到手机通讯录？
   - 权限获取的自动化程度？
   - 导入失败的处理机制？

3. **关注执行策略**
   - 批量关注的频率控制？
   - 关注失败重试机制？
   - 已关注用户的跳过逻辑？

---

## 3. 权限管理系统

### 3.1 权限层级设计
#### 当前规划
- 管理员权限（总账户）
- 小管理员权限（客户侧）
- 普通用户权限

#### 待细化问题
1. **权限功能矩阵**
   - 各权限等级的具体功能范围？
   - 数据访问权限的边界？
   - 操作审计的记录范围？

2. **权限管理机制**
   - 权限分配和回收流程？
   - 权限继承关系？
   - 临时权限支持？

### 3.2 商业化收费模型
#### 核心需求
- 按子账号收费
- 按关注数量收费

#### 待细化问题
1. **收费策略设计**
   - 子账号创建费用标准？
   - 关注数量的计费单位？（按次、按月、按年？）
   - 套餐组合设计？

2. **计费系统实现**
   - 使用量统计机制？
   - 账单生成和支付集成？
   - 欠费处理策略？

---

## 4. 数据统计与报表系统

### 4.1 关注日志与统计
#### 核心功能
- 每日关注数据汇总
- 关注账号详细列表
- 分权限数据展示

#### 待细化问题
1. **统计维度设计**
   - 时间维度统计？（日、周、月报表）
   - 平台维度统计？（分平台数据）
   - 用户维度统计？（按执行用户）

2. **数据展示层级**
   - 管理员可见的完整数据？
   - 用户可见的简化数据？
   - 数据导出功能需求？

### 4.2 报表生成系统
#### 待细化问题
1. **报表格式和内容**
   - 报表模板设计？
   - 图表类型选择？
   - 自定义报表支持？

2. **报表分发机制**
   - 自动生成频率？
   - 报表推送方式？
   - 历史报表存储？

---

## 5. 技术实现考虑

### 5.1 平台兼容性
- 抖音平台特性适配
- 小红书平台特性适配
- 未来平台扩展预留

### 5.2 安全性设计
- 操作频率控制（防封号）
- 数据加密存储
- 操作日志记录

### 5.3 性能优化
- 多设备并发支持
- 任务队列管理
- 资源使用优化

---

## 下一步讨论重点

1. **优先级排序**：确定功能开发的优先级顺序
2. **技术方案**：选择合适的技术栈和实现方案
3. **用户界面**：设计用户友好的操作界面
4. **测试策略**：制定完整的测试计划
5. **部署方案**：确定产品交付和部署方式

---

## 修订记录

| 版本 | 日期 | 修订内容 | 修订人 |
|------|------|----------|--------|
| 1.0 | 2025-08-28 | 初始版本创建 | GitHub Copilot |

---

*本文档将根据讨论进展持续更新和完善*
