# 小红书自动化工具

一个专为小红书设计的自动化工具，支持通讯录好友导入和自动关注功能。

## 🎯 核心功能

### 1. 📞 通讯录好友导入
从CSV文件批量导入联系人到设备通讯录，支持中国手机号格式（+86）。

### 2. 🤖 小红书自动关注通讯录好友
自动导航到小红书通讯录页面，并智能关注所有通讯录中的好友。

## 🚀 快速开始

### 编译项目
```bash
cargo build --release
```

### 使用方法

#### 1. 通讯录导入
```bash
# 从CSV文件导入联系人（格式: 姓名,电话,地址,职业,邮箱）
target\release\adb_xml_reader.exe --import-vcf test_contacts_vcf.txt --device "127.0.0.1:5555"
```

#### 2. 小红书自动关注
```bash
# 智能检测当前页面并开始关注
target\release\adb_xml_reader.exe --smart-follow --device "127.0.0.1:5555"

# 从主页开始完整流程（菜单→发现好友→通讯录→关注）
target\release\adb_xml_reader.exe --auto-follow-contacts --device "127.0.0.1:5555"
```

## ⚙️ 环境要求

- Rust 1.70+
- Android设备已启用USB调试
- ADB (Android Debug Bridge) 已安装
- 小红书APP已安装

## 📋 联系人文件格式

CSV文件格式示例（`test_contacts_vcf.txt`）：
```
陈美飞,13800001234,上海市浦东新区,软件工程师,chen@email.com
李时尚,13900005678,北京市朝阳区,设计师,li@email.com
刘流行,13700009876,深圳市南山区,产品经理,liu@email.com
```

## 🛡️ 安全特性

- 操作间隔控制，避免频繁操作被检测
- 智能跳过已关注用户
- 自动页面状态检测
- 详细的执行日志和进度报告

## ⚠️ 使用注意

- 建议在网络良好时使用
- 确保设备屏幕保持亮屏状态
- 首次使用建议小规模测试
- 请遵守平台使用规定

## 📊 执行示例

```
🧠 开始执行智能关注流程...
🧠 开始智能联系人流程检测...
      🔍 页面检测: 关注按钮=0, 已关注按钮=4, 通讯录标题=true
✅ 检测到当前在通讯录页面，直接开始关注
🤖 开始自动关注通讯录中的好友...

📄 正在处理第 1 页...
      ⏭️  跳过已关注用户: '已关注'
      🎯 找到关注按钮: '关注' 位置: Some(Bounds { left: 911, top: 170, right: 1009, bottom: 216 })
      👆 点击第 1 个关注按钮...
      🔍 按钮文字变化: '关注' -> '已关注'
      ✅ 按钮状态确认: 关注成功

📈 关注统计:
   总共关注: 3 个好友
   处理页数: 2 页

✅ 智能关注流程执行成功！
```

---

**版本**: v1.0.0
**最后更新**: 2025年9月6日
